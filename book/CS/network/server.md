# 📕 Server

## 📌 IP와 도메인

### 📍 IP (Internet Protocol)

`IP 주소`<sup style="font-size: 10px">`IP Address`</sup>는  네트워크 계층의 기능을 수행하는 `IP protocol`이 호스트를 구분하기 위하여 사용하는 주소 체계이다.

임의의 호스트를 인터넷에 연결하려면 반드시 IP 주소를 할당받아야 한다.

IP 주소는 `32bit`의 이진 숫자로 구성되는데, 보통 `8bit씩 네 부분`으로 나누어 `십진수`로 표현한다. (e.g. 192.168.0.1)

IP 주소는 `유일성`을 보장하기 때문에 중복 주소의 사용을 원천적으로 차단한다. 처음 IP protocol이 개발될 당시에는 현재처럼 폭넓게 활용되리라 예측하지 못했다.

따라서 IP 주소로 표현할 수 있는 최대 주소를 32bit로 제한함으로써 확장성에 많은 문제점이 야기되고 있다.

이를 해결하기 위해 새로운 protocol인 `IPv6`에서는 주소 표현 공간을 `128bit`로 확장했다. 그리고 현재 사용하는 IP protocol은 IPv6와 구분하기 위해 `IPv4`로 표현한다.

### 📍 도메인

인터넷에서 특정 호스트와 연결하려면 반드시 해당 호스트의 IP 주소를 알아야 한다. 하지만 앞서 말했듯이 IPv4의 경우 8bit씩 네 부분으로 나누어 십진수로 표현하기 때문에 이를 기억하기란 매우 힘들다.

그래서 의미 파악이 쉬운 문자로 된 호스트 이름을 사용하는 것이 일반적이다.

이것을 `도메인`이라고 한다.

일반 사용자는 IP 주소보다는 도메인 이름을 사용하기 때문에 중간 계층에서 이를 변환하는 `DNS`<sup style="font-size: 10px">`Domain Name System`</sup>을 사용한다. 전화번호부의 역할이라고 생각하면 쉽다.

## 📌 클라이언트와 서버

`호스트`를 세분할 때는 호스트 사이에 제공되는 `서비스`를 기준으로 `클라이언트`와 `서버`로 나눌 수 있다.

먼저 호스트가 무엇인지 알아보자.

`호스트`란 일반적으로 `컴퓨팅 기능이 있는 시스템`을 의미한다.

일반 사용자가 호스트 내의 응용 프로그램을 실행하므로 사용자가 네트워크에 접속하는 창구 역할을 한다.

### 📍 클라이언트

클라이언트는 `서비스를 이용하는 시스템`이다.

호스트는 다양한 서비스를 서로 주고받기 때문에 임의의 호스트가 클라이언트나 서버로 `고정되지는 않는다.`

단지 이용하는 서비스의 종류에 따라서 클라이언트가 될 수도 있고, 서버가 될 수도 있다.

### 📍 서버

서버는 서비스를 주고받는 호스트들의 관계에서 임의의 `서비스를 제공하는 시스템`이다.

일반적으로 서버는 클라이언트보다 먼저 실행 상태가 되어 `클라이언트의 요청에 대기` 해야 한다.

그리고 영원히 종료하지 않으면서 클라이언트의 `요청이 있을 때마다 서비스를 반복해서 제공`해야 한다.

## 📌 정적 웹 사이트, 동적 웹 사이트

### 📍 정적 웹 사이트

정적 웹 사이트는 리소스 요청이 들어올 때 서버에서 하드 코딩된 `동일한 콘텐츠를 반환`한다. 쉽게 말해 `언제나 같은 응답`을 보낸다는 뜻이다.

### 📍 동적 웹 사이트

동적 웹 사이트는 필요할 때에 `동적으로 응답 콘텐츠가 생성` 된다.

보통 HTML 템플릿에 있는 자리 표시자에 데이터베이스에서 가져온 데이터를 넣어 생성 된다.

## 📌 HTTP와 요청과 응답

### 📍 HTTP

`HTTP`<sup style="font-size: 10px">`HyperText Transfer Protocol`</sup>는 분산 하이퍼미디어 환경에서 빠르고 간편하게 데이터를 전송하는 프로토콜이다.

HTTP는 `80포트`를 사용하도록 정의되기에 HTTP서버는 80포트에서 대기하고, 클라이언트는 TCP를 사용해 연결을 설정한다.

웹 브라우저는 사용자가 요청하는 자원을 가리키는 URL 주소에 사용할 프로토콜을 표현한다.

즉, URL 주소의 첫 번째 부분을 사용해 서비스의 유형을 표현한다.

예를 들어, HTTP 서버로부터 웹 정보를 얻으려면 `http`://www.google.com 처럼 URL 주소 첫 번째 부분에 http를 적는다. FTP 서버에 접근하려면 `ftp`://로 시작한다.

HTTP 명령에 해당하는 `HTTP 메서드`를 이용해 클라이언트가 서버에 요청을 전송하고, 반대로 서버에서 클라이언트로 문서 정보를 회신한다.

클라이언트가 서버에 요청할 때는 `GET 메서드`를, 클라이언트에서 서버로 회신할 때는 `POST 메서드`를 사용한다.

### 📍 요청 메시지

클라이언트가 서버에 보내는 요청 메시지는 `[요청문, 헤더, 공백 한 줄 ,바디]` 로 구성된다. 또한 요청문은 `<요청 메서드>, <URL>, <HTTP 버전>`으로 구성된다.

주요 명령어는 다음과 같다.

- `GET` : 클라이언트가 서버에 URL이 가리키는 `웹 문서의 내용을 전송하도록 요구`한다.
- `HEAD` : 문서 내용보다는 `특정 문서의 정보를 원할 때 사용`한다.
- `POST` : `클라이언트가 서버에 정보를 전송`할 수 있도록 해준다.
- `PUT` : `클라이언트가 서버에 문서를 전달`하려고 사용한다.

### 📍 응답 메시지

클라이언트로부터 `요청 메시지를 수신한 서버`는 해당 요구를 처리한 후, `그 결과를 응답 메시지 형식으로 회신`한다.

응답 메시지의 구조는 요청 메시지와 유사하다. `[상태문, 헤더, 공백 한 줄, 바디]`로 구성되며, 상태문은 `<HTTP 버전>, <상태 코드>, <상태 이름>`으로 구성된다.

HTTP 상태코드는 다음과 같다.

- 성공
  - |코드|이름|의미|
    |---|---|---|
    |200|OK|요청이 `성공적으로 수행되었다.`|
    |202|Accepted|요청을 수신하였으나, `즉각 실행되 않고 있다.`|
- 실패
  - |코드|이름|의미|
    |---|---|---|
    |400|Bad Request|요청 메시지의 내용에 `문법 오류가 존재한다.`|
    |401|Unauthorized|요청을 실행하는데 필요한 `적절한 권한이 존재하지 않는다.`|
    |403|Forbidden|서비스 `요청이 거부되었다.`|
    |404|Found|원하는 문서를 `찾을 수 없다.`|
- 서버문제
  - |코드|이름|의미|
    |---|---|---|
    |500|Internal Server Error|서버 내부에 `불가피한 오류가 발생했다.`|
    |501|Not Implemented|요청 사항을 `수행할 수 없다.`|

## 📌 프레임워크

`웹 프레임워크`는 `작성`하기 쉽고, 웹 어플리케이션을 `유지 및 보수`하기 쉽게 만드는 소프트웨어다.

적절한 URL 핸들러로 `라우팅`, `데이터베이스와 상호작용`, `유저 인증과 세션 지원`, `출력 형식`, `웹 공격에 대처하기 위한 보안 강화` 같은 일반적인 웹 개발 작업을 단순화 하는 `도구`와 `라이브러리`를 제공한다.
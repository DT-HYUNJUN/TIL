# OSI 7계층

## 물리 계층

OSI 7계층 모델의 맨 밑에 위치하는 물리 계층은 전송 매체의 물리적 인터페이스에 관한 사항을 기술한다.

물리 계층은 하드웨어 시스템으로 구현된다.

물리 계층에서 다루는 전송 매체의 특성에는 데이터의 전송 속도, 송수신 호스트 사이의 클록 동기화 방법, 물리적 연결 형태 등이 있다.

## 데이터 링크 계층

데이터 링크 계층은 물리 계층을 통해 전송되는 데이터의 물리적 전송 오류를 해결한다.

결과적으로 상위의 네트워크 계층에 신뢰성 있는 패킷 전송을 보장해주어 전송 오류에 대한 부담을 없애준다.

갈림길에서는 전송 경로를 선택할 수 없으므로 두 호스트가 일대일로 직접 연결된 환경에서만 데이터 전송을 지원한다.

이 계층을 이용해 전송되는 데이터를 프레임 이라고 부르며 프레임 헤더에 표시되는 송수신 호스트 정보에는 LAN 카드에 내장된 송수신 호스트의 MAC 주소가 기록된다.

## 네트워크 계층

송신 호스트가 전송한 데이터가 수신 호스트까지 안전하게 도착하려면 여러 개의 중개 시스템을 거쳐야 한다.

이 과정에서 데이터가 올바른 경로를 선택할 수 있도록 지원하는 계층이 네트워크 계층이다.

중개 시스템의 기능은 일반적으로 라우터가 수행한다.

네트워크 부하가 증가하면 특정 지역에 혼잡이 발생할 수 있는데, 혼잡제어도 관리한다.

## 전송 계층

전송 계층은 송신 프로세스와 수신 프로세스 간의 연결 기능을 제공하기 때문에 프로세스 사이의 안전한 데이터 전송을 지원한다.

전송 계층은 데이터가 전송되는 최종적인 경로상의 양 끝단 사이의 연결이 완성되는 곳이다.

일반적으로 계층 4까지의 기능은 OS에서 시스템 콜 형태로 상위 계층에 제공하며, 계층 5~7은 사용자 프로그램으로 작성된다.

### 3 way handshake

3 way handshake는 TCP 연결 설정 방식이다.

전송 계층은 데이터가 전송되는 최종적인 경로상의 양 끝단 사이의 연결이 완성되는 곳이다.

따라서 두 끝단이 연결되었다는 것을 보장하기 위해 실제로 데이터가 전달되기 전에 다른 한 쪽이 준비되었다는 것을 알 필요가 있다.

A 프로세스가 연결설정을 요구하고 B 프로세스가 수락한다고 할 때 순서는 아래와 같다.

1. 먼저 A 프로세스는 TCP 헤더의 SYN을 담은 세그먼트를 전송한다.

2. 연결 설정 요구를 받은 B 프로세스가 연결을 수락하려면 이에 대한 긍정 응답을 표시해야한다. 이를 위해 SYN과 ACK 플래그를 지정해 긍정 응답을 표시한다.

3. A 프로세스는 B 프로세스가 전송한 긍정 응답 세그먼트가 제대로 도착했음을 알리기 위해 ACK을 전송한다. 이 때 전송 할 데이터가 있으면 데이터를 전송해도 된다.

## 세션 계층

세션 계층은 전송 계층에서 제공하는 연결의 개념과 유사한 세션 연결을 지원하지만, 이보다는 더 상위의 논리적 연결이다.

응용 환경에서 사용자 간의 대화 개념의 연결로 사용되기 때문에 전송 계층의 연결과 구분된다.

## 표현 계층

표현 계층은 전송되는 데이터의 의미를 잃지 않도록 올바르게 표현하는 방법을 다룬다.

정보를 교환하는 시스템이 표준화된 방법으로 데이터를 인식할 수 있게 해준다.

또한 데이터의 표현이라는 본래의 기능에 더해, 현재의 표현 계층은 압축과 암호화라는 기능도 중요하게 다루고 있다.

동영상 같은 대용량의 멀티미디어 데이터를 압축하면 전송 데이터의 양을줄일 수 있다.

## 응용 계층

응용 계층은 사용자를 위한 다양한 네트워크 응용 환경을 지원한다.

그 기능은 특정 분야에 한정되지 않고 매우 광범위하다.